  
#!/bin/bash

input="MTILL002@ODU.EDU"

while IFS= read -r line
do
	curl -ILskS "$line" > "$line.txt"
	echo "$line.txt" >> "responseFiles.txt"
done < "$input"

  

#!/bin/bash

input="responseFiles.txt"

while IFS= read -r line
do
	grep "^HTTP" "$line" >> "filtered-$line"
	grep -i "^set-cookie" "$line" >> "filtered-$line"
	echo "filtered-$line" >> "filteredFiles.txt"
done < "$input"



#!/bin/bash

input="filteredFiles.txt"
output="headerStats.txt"

while IFS= read -r line
do
	response=$(grep "HTTP" "$line" | tac)
	declare -a httpStatus
	httpStatus=()
	read -a httpStatus <<< "$response"

	echo "$line" >> "$output"
	echo "Terminating status code:" >> $output
	echo "${httpStatus[1]}" >> "$output"
	
	echo "Number of Cookies:" >> "$output"
	grep -i -c "set-cookie" "$line" >> "$output"

	echo "Number of HttpOnly cookies:" >> "$output"
	grep -i -c "httponly" "$line" >> "$output"

	echo "Number of Secure cookies:" >> "$output"
	grep -i -c "secure" "$line" >> "$output"

	echo "Number of SameSite cookies:" >> "$output"
	grep -i -c "samesite" "$line" >> "$output"

	echo "Number of Strict SameSite cookies:" >> "$output"
	grep -i -c "strict" "$line" >> "$output"

	echo "Number of Lax SameSite cookies:" >> "$output"
	grep -i -c "lax" "$line" >> "$output"

	echo "Number of None SameSite cookies:" >> "$output"
	grep -i -c "none" "$line" >> "$output"

	echo "Number of cookies that set path:" >> "$output"
	grep -i -c "path=" "$line" >> "$output"

	echo "Number of paths other than /:" >> "$output"
	grep -i -c "path=/[a-zA-Z0-9]" "$line" >> "$output"

done < "$input"

  


#!/bin/bash

input="filteredFiles.txt"
declare -a numCookies
numCookies=()

while IFS= read -r line
do
	cookieCount=$(grep -i -c "set-cookie" "$line")
	numCookies+=("$cookieCount")
done < "$input"

python3.8 calculateCookieStats.py ${numCookies[@]}



import sys
import numpy

cookies = sys.argv[1:-1]

intCookies = list(map(int, cookies))

intCookies.sort()

print("Minimum number of cookies: ", intCookies[0], "\n")
print("Maximum number of cookies: ", intCookies[-1], "\n")
print("Mean number of cookies: ", numpy.mean(intCookies), "\n")
print("Median number of cookies: ", numpy.median(intCookies))

